# Render Free Tier Deployment Configuration
# NeoLight 24/7 Cloud Deployment
# ============================================

services:
  - type: web
    name: neolight-primary
    env: python
    # Note: Python version must be set in Render dashboard (Settings → Runtime → Python Version → 3.11)
    plan: free  # Free tier (750 hours/month)
    region: oregon  # us-west-2 (low latency)
    buildCommand: pip install -r requirements_render.txt
    startCommand: python3 -m uvicorn render_app_multi_agent:app --host 0.0.0.0 --port $PORT
    healthCheckPath: /health
    envVars:
      - key: TRADING_MODE
        value: PAPER_TRADING_MODE
      - key: PYTHONPATH
        value: /opt/render/project/src
      - key: PORT
        value: 8080
      - key: RENDER_MODE
        value: true
      - key: SPORTS_USE_TRANSFORMER
        value: "false"
      - key: SPORTS_SKIP_BACKFILL
        value: "true"
      # Secrets should be added via Render dashboard
      # - ALPACA_API_KEY (from Secret Manager)
      # - ALPACA_SECRET_KEY (from Secret Manager)
      # - RCLONE_REMOTE (from Secret Manager)
      # - RCLONE_PATH (from Secret Manager)

# Auto-deploy from GitHub
# Connect your GitHub repo in Render dashboard
# Render will auto-deploy on push to main branch
