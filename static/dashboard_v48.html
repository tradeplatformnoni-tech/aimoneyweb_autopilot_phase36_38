<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NeoLight v4.8 ‚Äî Advisor Dashboard</title>
<link rel="stylesheet" href="/static/style.css">
<style>
  body { background:#050505; color:#0ff; font-family: 'Consolas', monospace; }
  .tabs { display:flex; gap:8px; margin:10px; }
  .tab-content { display:none; padding:15px; }
  .tab-content.active { display:block; border:1px solid #0ff; }
  .panel { padding:10px; margin-top:10px; border:1px solid #099; border-radius:6px; }
  .data { font-size:0.9rem; color:#fff; background:#111; padding:6px; border-radius:4px; white-space:pre-wrap; }
  button { background:#0ff; border:none; padding:8px 14px; border-radius:4px; cursor:pointer; }
  button:hover { background:#099; }
</style>
</head>
<body>
<h1>üí° AI Money Web :: NeoLight v4.8 ‚Äî Advisor Dashboard</h1>

<div class="tabs">
  <button data-tab="overview">Overview</button>
  <button data-tab="risk">Risk Panel</button>
  <button data-tab="sentiment">Sentiment Panel</button>
  <button data-tab="advisor">AI Advisor</button>
</div>

<div id="overview" class="tab-content active">
  <div class="panel"><h3>üß≠ System Overview</h3>
    <pre class="data" id="overviewData">Loading...</pre>
  </div>
</div>

<div id="risk" class="tab-content">
  <div class="panel"><h3>‚öñÔ∏è Risk Metrics</h3>
    <pre class="data" id="riskData">Loading...</pre>
  </div>
</div>

<div id="sentiment" class="tab-content">
  <div class="panel"><h3>üí¨ Market Sentiment</h3>
    <pre class="data" id="sentData">Loading...</pre>
  </div>
</div>

<div id="advisor" class="tab-content">
  <div class="panel"><h3>üß† AI Advisor</h3>
    <textarea id="advisorInput" placeholder="Ask NeoLight..."></textarea><br>
    <button id="askBtn">Ask</button>
    <pre class="data" id="advisorReply">...</pre>
  </div>
</div>

<script>
const tabs=document.querySelectorAll('[data-tab]');
tabs.forEach(btn=>btn.addEventListener('click',()=>{
  document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
  document.getElementById(btn.dataset.tab).classList.add('active');
}));
async function loadOverview(){ 
  const h=await fetch('/api/health').then(r=>r.json()); 
  document.getElementById('overviewData').textContent=JSON.stringify(h,null,2);
}
async function loadRisk(){ 
  const r=await fetch('/api/risk').then(r=>r.json()); 
  document.getElementById('riskData').textContent=JSON.stringify(r,null,2);
}
async function loadSent(){ 
  const s=await fetch('/api/sentiment/latest').then(r=>r.json()); 
  document.getElementById('sentData').textContent=JSON.stringify(s,null,2);
}
async function askAdvisor(){
  const msg=document.getElementById('advisorInput').value;
  const r=await fetch('/api/advisor',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({question:msg})});
  const j=await r.json();
  document.getElementById('advisorReply').textContent=JSON.stringify(j,null,2);
}
document.getElementById('askBtn').addEventListener('click',askAdvisor);
setInterval(loadOverview,5000);
setInterval(loadRisk,7000);
setInterval(loadSent,9000);
loadOverview();loadRisk();loadSent();
</script>
</body>
</html>
